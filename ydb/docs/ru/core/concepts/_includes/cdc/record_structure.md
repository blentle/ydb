## Структура записи {#record-structure}

В зависимости от [параметров потока](../../../yql/reference/syntax/alter_table.md#changefeed-options) структура записи может отличаться.

Запись в формате json будет иметь следующую структуру:
```json
{
    "key": [<key components>],
    "update": {<columns>},
    "erase": {},
    "newImage": {<columns>},
    "oldImage": {<columns>}
}
```
Где `<key components>` — массив значений компонент первичного ключа, а `<columns>` — словарь из названий столбцов (ключ) и их значений (значение). Например:
```json
{
    "key": [1, "one"],
    "update": {
        "payload": "lorem ipsum",
        "date": "2022-02-22"
    }
}
```

В некоторых режимах часть ключей может быть опущена:

| Ключ | `KEYS_ONLY` | `UPDATES` | `NEW_IMAGE` | `OLD_IMAGE` | `NEW_AND_OLD_IMAGES` |
| ---- | ----------- | --------- | ----------- | ----------- | -------------------- |
| `"key"` | + | + | + | + | + |
| `"update"` | пустой | + | пустой | пустой | пустой |
| `"erase"` | пустой | пустой | пустой | пустой | пустой |
| `"newImage"` | - | - | + | - | + |
| `"oldImage"` | - | - | - | + | + |

Как видно, вне зависимости от режима в записи всегда указываются:
* Значения компонент первичного ключа таблицы (`"key"`).
* Признак изменения (`"update"` или `"erase"`).
