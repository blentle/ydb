## Параметры {#settings}

* `MODE`. Режим работы потока. Указывает, что именно будет записано в поток при каждом изменении данных в таблице.
* `FORMAT`. Формат данных, в котором будут записаны данные в поток.

### Режимы работы {#modes}

{% note info %}

Вне зависимости от выбранного режима в поток всегда записываются:
  * Значения компонент первичного ключа таблицы.
  * Признак изменения (обновление, удаление).

{% endnote %}

* `KEYS_ONLY`. Будут записаны только компоненты первичного ключа и признак изменения.
* `UPDATES`. Будут записаны значения изменившихся столбцов, получившиеся в результате изменения.
* `NEW_IMAGE`. Будут записаны значения всех столбцов, получившиеся в результате изменения.
* `OLD_IMAGE`. Будут записаны значения всех столбцов, предшествующие изменению.
* `NEW_AND_OLD_IMAGES`. Комбинация режимов `NEW_IMAGE` и `OLD_IMAGE` — будут записаны значения всех столбцов до и в результате изменения.

### Форматы данных {#formats}

* `JSON`. Структура записи:
  ```json
  {
      "key": [<key components>],
      "update": {<columns>},
      "erase": {/* empty */},
      "newImage": {<columns>},
      "oldImage": {<columns>}
  }
  ```
  Где `<key components>` — значения компонент первичного ключа, а `<columns>` — словарь из названий столбцов (ключ) и их значений (значение). Например:
  ```json
  {
      "key": [1, "one"],
      "update": {
          "payload": "lorem ipsum",
          "date": "2022-02-22"
      }
  }
  ```
